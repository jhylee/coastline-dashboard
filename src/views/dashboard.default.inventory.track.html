<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
  <h2 class="page-header light-text">Track Inventory</h2>
  <div class="row placeholders">
    <!--
      <div class="col-lg-8">  CENTER ON COMPUTER SCREEN
      -->
      <div class="container">
        <div class="panel-container">
          <div class="panel panel-default">
            <div ng-controller="InventoryCtrl" class="panel-body">
              <button ng-click="viewBlocks()" class="btn-dashboard">View/Edit Inventory</button>
              <button data-toggle="modal" data-target="#helpModal" class="btn-dashboard">Help</button>
            </div>
          </div>
          <div ng-controller="SupplyChainDisplayCtrl" class="panel panel-default">
            <!-- <div class="panel-heading">
                            <h3 class="panel-title">Supply Chain Representation</h3>
                        </div> -->
            <div class="panel-body" style="height:500px">
              <vis-network-track data="data" options="options" events="events" height="500px"></vis-network-track>
            </div>
          </div>
        </div>
      </div>
    <!--</div>-->
  </div>
</div>

<!-- THIS IS THE INSTRUCTIONS MODAL -->

<div class="modal fade" id="helpModal" role="dialog">
   <div class="modal-dialog modal-lg">
     <div class="modal-content">
       <div class = "modal-header"></div>
       <div class="modal-body">
         <div class="row">
           <div class="col-md-8 col-md-offset-2">
             <h2 class ="text-center">Instructions</h2>
             <hr>
             <p><b>Step 1: </b> Click on the intermediary you would like to analyze.<br><br>
               <b>Step 2: </b> Click the <i>View/Edit Inventory</i> button above the supply chain visualization.<br><br>
               <b>Step 3: </b> A popup will appear, providing real-time inventory information at that location.<br><br>
               <b>Step 4a: </b> To add a block of inventory to tht stage, click "Add", then enter in the Name, Quantity,
               and Units for the inventory batch. Click "Delete" to delete a block of inventory.<br><br>
               <b>Step 4b: </b> To move the block of inventory to a different stage, click "Select" for the desired
               block, and click "Move". Then, choose the desired destination under the "Move to stage" dropdown.<br><br>
               <b>Step 5 [optional]: </b> To move the block of inventory to the e-commerce platform, click "Select" for the desired
               block, and click "Upload to e-commerce".
             </p>
         </div>
       </div>
     </div>

       <div class="modal-footer">
         <button type="button" class="btn-dashboard" data-dismiss="modal">Close</button>
       </div>
     </div>
   </div>
 </div>


<script type="text/ng-template" id="viewBlocksModal.html">
  <div class="modal-header">
    <h3 class="modal-title">Inventory Batches (Blocks)</h3>
  </div>

  <div class="modal-footer">
      
    <button class="btn-dashboard" type="button" ng-click="moveBlock()">Move</button>
    <button class="btn-dashboard" type="button" ng-click="moveBlockToSales()">Move to Sales</button>
    
    <!-- THIS IS THE BUTTON FOR VIEW DETAILS MODAL -->
    <button class="btn-dashboard" type="button" ng-click="viewDetails()">View Details</button>
    <button class="btn-dashboard-green" type="button" ng-click="addBlock()">Add</button>
    <button class="btn-dashboard-red" type="button" ng-click="deleteBlock()">Delete</button>

  </div>

  <div class="modal-body">
    <div class="panel panel-default">
      <!-- <div class="panel-heading">
      <h3 class="panel-title">Supply Chain Representation</h3></div> -->
      <div class="panel-body">
        <div class="table-responsive">
          <table class="table table-striped">
            <thead>
              <tr>
                <th>#</th>
                <th>ID</th>
                <th>Date Created</th>
                <th>Select</th>
              </tr>
            </thead>
            <tbody ng-repeat="block in blocks track by $index">
              <tr>
                <td>{{$index + 1}}</td>
                <td>{{block._id}}</td>
                <td>{{block.dateCreated}}</td>
                <td>
                  <input type="radio" ng-model="$parent.selectedBlock" ng-value="$index">
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="modal-footer">
    <button class="btn-dashboard" type="button" ng-click="ok()">Dismiss</button>
  </div>
</script>



<script type="text/ng-template" id="addBlockModal.html">
  <div class="modal-header">
    <h3 class="modal-title">Add Block</h3>
  </div>
  <div class="modal-body">
    <form>
      <fieldset class="form-group">
        <label>Name</label>
        <input class="form-control" ng-model="name" placeholder="">
      </fieldset>

      <fieldset class="form-group">
        <label>Quantity</label>
        <input class="form-control" ng-model="quantity" placeholder="">
      </fieldset>

      <fieldset class="form-group">
        <label>Units</label>
        <input class="form-control" ng-model="units" placeholder="">
      </fieldset>
    </form>
  </div>
  <div class="modal-footer">
    <button class="btn-dashboard-green" type="button" ng-click="ok()">OK</button>
    <button class="btn-dashboard-red" type="button" ng-click="cancel()">Cancel</button>
  </div>
</script>


<script type="text/ng-template" id="deleteBlockModal.html">
  <div class="modal-header">
    <h3 class="modal-title">Delete Block</h3>
  </div>
  <div class="modal-body">
    <p>Are you sure you want to delete this block?</p>
  </div>
  <div class="modal-footer">
    <button class="btn-dashboard-green" type="button" ng-click="ok()">Yes</button>
    <button class="btn-dashboard-red" type="button" ng-click="cancel()">Cancel</button>
  </div>
</script>

<script type="text/ng-template" id="moveBlockModal.html">
  <div class="modal-header">
    <h3 class="modal-title">Move Block</h3>
  </div>
  <div class="modal-body">
    <form>
      <fieldset class="form-group">
        <label>Moving blocks from the "{{fromStage.name}}" stage to "{{toStage.name || '_______'}}."</label>
      </fieldset>

      <fieldset class="form-group">
        <label>Move to stage: </label>
        <select ng-model="toStage" ng-options="stage as stage.name for stage in stages" class="form-control"></select>
      </fieldset>
    </form>
  </div>
  <div class="modal-footer">
    <button class="btn-dashboard-green" type="button" ng-click="ok()">OK</button>
    <button class="btn-dashboard-red" type="button" ng-click="cancel()">Cancel</button>
  </div>
</script>


<script type="text/ng-template" id="moveBlockToSalesModal.html">
  <div class="modal-header">
    <h3 class="modal-title">Move Block</h3>
  </div>
  <div class="modal-body">
    <form>
      <fieldset class="form-group">
        <label>Moving blocks from the "{{fromStage.name}}" stage to "{{toStage.name || '_______'}}."</label>
      </fieldset>

      <fieldset class="form-group">
        <label>Move to stage: </label>
        <select ng-model="toStage" ng-options="stage as stage.name for stage in stages" class="form-control"></select>
      </fieldset>
    </form>
  </div>
  <div class="modal-footer">
    <button class="btn-dashboard-green" type="button" ng-click="ok()">OK</button>
    <button class="btn-dashboard-red" type="button" ng-click="cancel()">Cancel</button>
  </div>
</script>


<!-- THIS IS WHERE I MADE THE DUMMY VIEW DETAILS MODAL -->

<script type="text/ng-template" id="viewDetailsModal.html">
  <div class="modal-header">
    <h3 class="modal-title">Inventory Block Details</h3>
  </div>
  <div class="modal-body">
    <p>Put in details here</p>
  </div>
  <div class="modal-footer">
    <button class="btn-dashboard" type="button" ng-click="cancel()">Close</button>
  </div>
</script>
